<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino Simulator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: white;
        }

        .casino-machine {
            background-color: #e74c3c;
            padding: 20px;
            border-radius: 15px;
            border: 5px solid #c0392b;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            text-align: center;
            width: 320px;
        }

        .balance-board {
            background-color: #34495e;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 1.2em;
            border: 2px solid #2c3e50;
        }

        .slots-container {
            display: flex;
            justify-content: space-between;
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 3px solid #bdc3c7;
        }

        .slot {
            font-size: 3em;
            width: 30%;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white;
            border-radius: 5px;
            border: 2px solid #95a5a6;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }

        button {
            background-color: #f1c40f;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px #f39c12;
            transition: transform 0.1s;
            width: 100%;
        }

        button:active {
            box-shadow: 0 2px #f39c12;
            transform: translateY(3px);
        }

        button:disabled {
            background-color: #95a5a6;
            color: #bdc3c7;
            box-shadow: none;
            cursor: not-allowed;
        }

        #status {
            margin-top: 15px;
            min-height: 1.2em;
            font-weight: bold;
            text-shadow: 1px 1px 2px black;
        }
        
        .win { color: #2ecc71; }
        .lose { color: #bdc3c7; }
        .jackpot { color: #f1c40f; font-size: 1.1em; text-transform: uppercase; animation: blink 1s infinite;}

        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>

<div class="casino-machine">
    <h1>üé∞ CASINO üé∞</h1>
    
    <div class="balance-board">
        –ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> üí∞
    </div>

    <div class="slots-container">
        <div class="slot" id="slot1">üçí</div>
        <div class="slot" id="slot2">üçí</div>
        <div class="slot" id="slot3">üçí</div>
    </div>

    <button id="spinBtn" onclick="spin()">–ö–†–£–¢–ò–¢–¨ (-50)</button>
    
    <div id="status">–£–¥–∞—á–∏!</div>
</div>

<script>
    let balance = 1000;
    const bet = 50;
    const spinBtn = document.getElementById('spinBtn');
    const statusDiv = document.getElementById('status');
    const balanceSpan = document.getElementById('balance');
    const slots = [
        document.getElementById('slot1'),
        document.getElementById('slot2'),
        document.getElementById('slot3')
    ];

    // –°–∏–º–≤–æ–ª—ã –∏ –∏—Ö –≤–µ—Å–∞ (—à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è)
    // –ß–µ–º –±–æ–ª—å—à–µ —á–∏—Å–ª–æ weight, —Ç–µ–º —á–∞—â–µ –≤—ã–ø–∞–¥–∞–µ—Ç —Å–∏–º–≤–æ–ª.
    // 777 –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ.
    const symbols = [
        { icon: 'üçí', weight: 50 }, // –í–∏—à–Ω—è (–ø—É—Å—Ç—ã—à–∫–∞) - —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π
        { icon: '‚≠ê', weight: 30 }, // –ó–≤–µ–∑–¥–∞ (–Ω–∏—á–µ–≥–æ –Ω–µ –¥–∞–µ—Ç) - —á–∞—Å—Ç–æ
        { icon: 'üíµ', weight: 15 }, // –î–µ–Ω—å–≥–∏ - —Ä–µ–¥–∫–æ
        { icon: '7Ô∏è‚É£', weight: 5 }   // –°–µ–º–µ—Ä–∫–∞ - –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ
    ];
// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ —Å —É—á–µ—Ç–æ–º –≤–µ—Å–æ–≤
    function getRandomSymbol() {
        let totalWeight = symbols.reduce((sum, s) => sum + s.weight, 0);
        let random = Math.random() * totalWeight;
        
        for (let s of symbols) {
            if (random < s.weight) {
                return s.icon;
            }
            random -= s.weight;
        }
        return symbols[0].icon;
    }

    function spin() {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
        if (balance < bet) {
            statusDiv.textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
            statusDiv.className = "lose";
            spinBtn.disabled = true;
            return;
        }

        // –°–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞–≤–∫–∏
        balance -= bet;
        updateUI();
        
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
        spinBtn.disabled = true;
        statusDiv.textContent = "–ö—Ä—É—Ç–∏–º...";
        statusDiv.className = "";

        let spins = 0;
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (–º–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª—ã –±—ã—Å—Ç—Ä–æ 20 —Ä–∞–∑)
        let interval = setInterval(() => {
            slots.forEach(slot => slot.textContent = getRandomSymbol());
            spins++;

            // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
            if (spins > 20) {
                clearInterval(interval);
                finalizeSpin();
            }
        }, 100);
    }

    function finalizeSpin() {
        // –ó–¥–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        const result1 = getRandomSymbol();
        const result2 = getRandomSymbol();
        const result3 = getRandomSymbol();

        slots[0].textContent = result1;
        slots[1].textContent = result2;
        slots[2].textContent = result3;

        checkWin(result1, result2, result3);
        
        spinBtn.disabled = false;
        
        // –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å 0 –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞ - –±–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞–≤—Å–µ–≥–¥–∞
        if (balance < bet) {
            spinBtn.disabled = true;
            spinBtn.textContent = "GAME OVER";
            spinBtn.style.backgroundColor = "#95a5a6";
        }
    }

    function checkWin(s1, s2, s3) {
        // –õ–û–ì–ò–ö–ê –í–´–ò–ì–†–´–®–ê
        
        // 1. –î–∂–µ–∫–ø–æ—Ç: 777 (+1000)
        if (s1 === '7Ô∏è‚É£' && s2 === '7Ô∏è‚É£' && s3 === '7Ô∏è‚É£') {
            balance += 1000;
            statusDiv.textContent = "–î–ñ–ï–ö–ü–û–¢! +1000 üí∞";
            statusDiv.className = "jackpot";
        }
        // 2. –î–µ–Ω—å–≥–∏: üíµüíµüíµ (+100)
        else if (s1 === 'üíµ' && s2 === 'üíµ' && s3 === 'üíµ') {
            balance += 100;
            statusDiv.textContent = "–í—ã–∏–≥—Ä—ã—à! +100 üí∞";
            statusDiv.className = "win";
        }
        // 3. –ó–≤–µ–∑–¥—ã: ‚≠ê‚≠ê‚≠ê (–ù–∏—á–µ–≥–æ, –∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª)
        else if (s1 === '‚≠ê' && s2 === '‚≠ê' && s3 === '‚≠ê') {
            statusDiv.textContent = "–¢—Ä–∏ –∑–≤–µ–∑–¥—ã... –ü—É—Å—Ç–æ!";
            statusDiv.className = "lose";
        }
        // 4. –õ—é–±–∞—è –¥—Ä—É–≥–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
        else {
            statusDiv.textContent = "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑";
            statusDiv.className = "lose";
        }
        
        updateUI();
    }

    function updateUI() {
        balanceSpan.textContent = balance;
    }
</script>

</body>
</html>
