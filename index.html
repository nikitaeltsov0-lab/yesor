<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Casino</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .casino-container {
            background-color: #34495e;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            text-align: center;
            border: 2px solid #f1c40f;
        }

        h1 { margin-top: 0; color: #f1c40f; }

        .balance-board {
            font-size: 1.5rem;
            margin-bottom: 20px;
            background: #222;
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #555;
        }

        .slots {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            background: #000;
            padding: 20px;
            border-radius: 10px;
            border: 4px solid #e74c3c;
        }

        .reel {
            width: 80px;
            height: 100px;
            background-color: white;
            color: black;
            font-size: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
            transition: transform 0.1s;
        }

        .spin-btn {
            background: linear-gradient(to bottom, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 0 #96281b;
            transition: all 0.1s;
            font-weight: bold;
            text-transform: uppercase;
        }

        .spin-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #96281b;
        }

        .spin-btn:disabled {
            background: #7f8c8d;
            box-shadow: none;
            cursor: not-allowed;
        }

        .message {
            height: 30px;
            margin-top: 15px;
            font-weight: bold;
            color: #e67e22;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤—Ä–∞—â–µ–Ω–∏—è */
        .blur {
            animation: blur-animation 0.1s infinite;
            filter: blur(2px);
            color: transparent;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }

        @keyframes blur-animation {
            0% { transform: translateY(-2px); }
            50% { transform: translateY(2px); }
            100% { transform: translateY(-2px); }
        }
    </style>
</head>
<body>

<div class="casino-container">
    <h1>üé∞ –õ–û–•–û–¢–†–û–ù 3000 üé∞</h1>
    
    <div class="balance-board">
        –ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> $
        <div style="font-size: 0.8rem; color: #aaa;">–°—Ç–∞–≤–∫–∞: 50 $</div>
    </div>

    <div class="slots">
        <div class="reel" id="reel1">üçí</div>
        <div class="reel" id="reel2">üçí</div>
        <div class="reel" id="reel3">üçí</div>
    </div>

    <button class="spin-btn" id="spinBtn" onclick="spin()">–ö–†–£–¢–ò–¢–¨!</button>
    <div class="message" id="message">–£–¥–∞—á–∏!</div>
</div>

<script>
    // --- –ù–ê–°–¢–†–û–ô–ö–ò "–ö–ê–ó–ò–ù–û" ---
    let balance = 1000;
    const betCost = 50;
    
    // –°–∏–º–≤–æ–ª—ã: –æ—Ç –¥–µ—à–µ–≤—ã—Ö (—á–∞—Å—Ç—ã—Ö) –∫ –¥–æ—Ä–æ–≥–∏–º (—Ä–µ–¥–∫–∏–º)
    const symbols = ['üçí', 'üçã', 'üçá', 'üíé', '7Ô∏è‚É£'];
    
    // –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç (–º–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å—Ç–∞–≤–∫–∏)
    const payouts = {
        'üçí': 2,   // –í–æ–∑–≤—Ä–∞—Ç 100$ (—á–∏—Å—Ç—ã–º–∏ +50) - –º–∞–ª–∞—è –ø–æ–±–µ–¥–∞
        'üçã': 5,
        'üçá': 10,
        'üíé': 50,
        '7Ô∏è‚É£': 100  // –î–∂–µ–∫–ø–æ—Ç
    };
// --- –õ–û–ì–ò–ö–ê –ü–û–î–ö–†–£–¢–ö–ò (The Rig) ---
    // –í–µ—Å–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π. –ß–µ–º –±–æ–ª—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º —á–∞—â–µ –≤—ã–ø–∞–¥–∞–µ—Ç —Å–∏–º–≤–æ–ª.
    // –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: '7Ô∏è‚É£' –∏–º–µ–µ—Ç –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π –≤–µ—Å.
    const weights = [50, 35, 15, 3, 1]; 

    // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Å–∏–º–≤–æ–ª–∞ —Å —É—á–µ—Ç–æ–º –≤–µ—Å–æ–≤
    function getRiggedSymbol() {
        let totalWeight = weights.reduce((a, b) => a + b, 0);
        let random = Math.floor(Math.random() * totalWeight);
        
        for (let i = 0; i < symbols.length; i++) {
            random -= weights[i];
            if (random < 0) {
                return symbols[i];
            }
        }
        return symbols[0];
    }

    // --- –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –ò–ì–†–´ ---
    const reel1 = document.getElementById('reel1');
    const reel2 = document.getElementById('reel2');
    const reel3 = document.getElementById('reel3');
    const balanceSpan = document.getElementById('balance');
    const msgDiv = document.getElementById('message');
    const btn = document.getElementById('spinBtn');

    function spin() {
        if (balance < betCost) {
            msgDiv.textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤! –ü–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—á–µ—Ç (—à—É—Ç–∫–∞)";
            msgDiv.style.color = "red";
            return;
        }

        // –°–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
        balance -= betCost;
        updateBalance();
        msgDiv.textContent = "–ö—Ä—É—Ç–∏–º...";
        msgDiv.style.color = "#e67e22";
        
        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –∏ –∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
        btn.disabled = true;
        reel1.classList.add('blur');
        reel2.classList.add('blur');
        reel3.classList.add('blur');

        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ó–ê–†–ê–ù–ï–ï (—á—Ç–æ–±—ã –∑–Ω–∞—Ç—å –∏—Å—Ö–æ–¥)
        // –ó–¥–µ—Å—å –º—ã –ø—Ä–∏–º–µ–Ω—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É "–∂–∞–¥–Ω–æ—Å—Ç–∏"
        let r1 = getRiggedSymbol();
        let r2 = getRiggedSymbol();
        let r3 = getRiggedSymbol();

        // –°–ï–ö–†–ï–¢–ù–ê–Ø –õ–û–ì–ò–ö–ê "–ü–û–ß–¢–ò –ü–û–ë–ï–î–ò–õ" (Near Miss)
        // –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —Å–∏–º–≤–æ–ª–∞ —Å–æ–≤–ø–∞–ª–∏, –Ω–æ —ç—Ç–æ –Ω–µ –≤—ã–∏–≥—Ä—ã—à, 
        // –º—ã –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –¥–µ–ª–∞–µ–º —Ç—Ä–µ—Ç–∏–π —Å–∏–º–≤–æ–ª –¥—Ä—É–≥–∏–º, —á—Ç–æ–±—ã –∏–≥—Ä–æ–∫—É –±—ã–ª–æ –æ–±–∏–¥–Ω–µ–µ.
        // –®–∞–Ω—Å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à –ø—Ä–∏ 2-—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö —Ä–µ–∂–µ—Ç—Å—è –µ—â–µ –≤ 2 —Ä–∞–∑–∞.
        if (r1 === r2 && Math.random() > 0.3) {
             // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—è–µ–º 3-–π —Å–∏–º–≤–æ–ª, —á—Ç–æ–±—ã –æ–Ω –ù–ï —Å–æ–≤–ø–∞–ª
             while(r3 === r1) {
                 r3 = getRiggedSymbol();
             }
        }

        // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞—Ä–∞–±–∞–Ω–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
        setTimeout(() => stopReel(reel1, r1), 500);
        setTimeout(() => stopReel(reel2, r2), 1000);
        setTimeout(() => stopReel(reel3, r3), 1500);

        // –ò—Ç–æ–≥–∏
        setTimeout(() => checkWin(r1, r2, r3), 1600);
    }

    function stopReel(reelElement, symbol) {
        reelElement.classList.remove('blur');
        reelElement.textContent = symbol;
    }

    function checkWin(s1, s2, s3) {
        btn.disabled = false;

        if (s1 === s2 && s2 === s3) {
            // –ü–û–ë–ï–î–ê
            const winAmount = betCost * payouts[s1];
            balance += winAmount;
            msgDiv.textContent = –í–´–ò–ì–†–´–®! +${winAmount} $;
            msgDiv.style.color = "#2ecc71";
            
            // –ï—Å–ª–∏ –≤—ã–∏–≥—Ä–∞–ª –¥–∂–µ–∫–ø–æ—Ç (777), –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã
            if (s1 === '7Ô∏è‚É£') {
                alert("–ù–ï–í–ï–†–û–Ø–¢–ù–û! –î–ñ–ï–ö–ü–û–¢! (–ù–æ –¥–µ–Ω–µ–≥ –º—ã –≤–∞–º –Ω–µ –¥–∞–¥–∏–º)");
            }
        } else {
            // –ü–†–û–ò–ì–†–´–®
            // –ï—Å–ª–∏ –¥–≤–∞ —Å–æ–≤–ø–∞–ª–∏ - –ø–∏—à–µ–º "–ü–æ—á—Ç–∏!"
            if (s1 === s2  s2 === s3  s1 === s3) {
                msgDiv.textContent = "–≠—Ö, –ø–æ—á—Ç–∏ –ø–æ–≤–µ–∑–ª–æ!";
            } else {
                msgDiv.textContent = "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑...";
            }
            msgDiv.style.color = "white";
        }
        updateBalance();
    }

    function updateBalance() {
        balanceSpan.textContent = balance;
    }
</script>

</body>
</html>
